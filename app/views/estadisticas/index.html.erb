<header>  
  <div class="row">
    <div class="col-md-4">
      <img src="<%= asset_path 'bioestadistica.png' %>">
    </div>
    <div class="col-md-4">
      <img src="<%= asset_path 'logo_min_salud.png' %>">
    </div>
    <div class="col-md-4">
      <img src="<%= asset_path 'gss2.png' %>">
    </div>
  </div>
</header>
<% total_encuestas = Encuestum.count(:id) %>
<div class="container">
  <h2 class="text-center">Estadisticas del estudio de evaluación de los servicios de las EPS por parte de los usuarios, en el régimen contributivo y subsidiado.</h2>
    <div class="alert alert-danger" role="alert">
    Los datos que se muestran, corresponden a la última actualización de la base de datos, puede que existan datos pendientes de actualizar.
    </div>
  <br>
  <div id="Departamentos" class="col-md-12">
  	<label> <strong> L1. Departamentos </strong> </label>
      <%= column_chart Encuestum.group(:departamento).having("departamento != ?", "--").having("departamento != ?", "").count(:id), download: true%>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:departamento).having("departamento != ?", "--").having("departamento != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:departamento).having("departamento != ?", "--").having("departamento != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>  
    </table>
    <br>
  </div>
  <div id="Municipio" class="col-md-12">
    <label> <strong> L2. Municipio </strong> </label>
      <%= column_chart Encuestum.group(:municipio).having("municipio != ?", "--").having("municipio != ?", "").count(:id), download: true%>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total_municipio  = 0 %>
        <% Encuestum.group(:municipio).having("municipio != ?", "--").having("municipio != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total_municipio = total_municipio + item %>
        <%end%>
        <% Encuestum.group(:municipio).having("municipio != ?", "--").having("municipio != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total_municipio.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total_municipio %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>  
    </table>
    <br>
  </div>

<div id="Pregunta6">
    <label> <strong> 6. Zona  </strong> </label>
    <%= bar_chart Encuestum.group(:zona).having("zona != ?", "--").having("zona != ?", "").count(:id), download: true%>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:zona).having("zona != ?", "--").having("zona != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:zona).having("zona != ?", "--").having("zona != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>  
    </table>
    <br>    
  </div>
   
  <div id="Sexo">
    <label> <strong> L3. Sexo </strong> </label>
      <%= pie_chart Encuestum.group(:sexo).having("sexo != ?", "--").having("sexo != ?", "").count(:id), download: true%>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:sexo).having("sexo != ?", "--").having("sexo != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:sexo).having("sexo != ?", "--").having("sexo != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>  
    </table>
    <br>
  </div>

  <div id="Pregunta1">
  	<label> <strong> 1. ¿A qué EPS se encuentra afiliado actualmente?  </strong> </label>
  	<%= bar_chart Encuestum.group(:pregunta1).having("pregunta1 != ?", "--").having("pregunta1 != ?", "").count(:id), download: true%>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta1).having("pregunta1 != ?", "--").having("pregunta1 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta1).having("pregunta1 != ?", "--").having("pregunta1 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>  
    </table>
    <br>
  </div>
  

  <div id="Pregunta3">
  	<label> <strong> 3. Qué tipo de afiliado es usted en la EPS?  </strong> </label>
  	<%= column_chart Encuestum.group(:pregunta3).having("pregunta3 != ?", "--").having("pregunta3 != ?", "").count(:id), download: true%>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta3).having("pregunta3 != ?", "--").having("pregunta3 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta3).having("pregunta3 != ?", "--").having("pregunta3 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>  
    </table>
    <br>
  </div>
 

<h3>10. En los últimos 6 meses ¿Cuáles de los siguientes servicios de salud ha utilizado usted a través de su EPS?</h3>
 <div id="Pregunta10A">
    <label> <strong> 10. A. Consulta de medicina general </strong> </label>
    <%= pie_chart Encuestum.group(:pregunta10_a).count(:id) %>
<br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta10_a).having("pregunta10_a != ?", "--").having("pregunta10_a != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta10_a).having("pregunta10_a != ?", "--").having("pregunta10_a != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>  
    </table>
    <br>        
  </div>
  <div id="Pregunta10B1">
    <label> <strong> 10. B1. Consulta de Obstetricia - control embarazo </strong> </label>
    <%= pie_chart Encuestum.group(:pregunta10_b1).count(:id) %>
<br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta10_b1).having("pregunta10_b1 != ?", "--").having("pregunta10_b1 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta10_b1).having("pregunta10_b1 != ?", "--").having("pregunta10_b1 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>  
    </table>
    <br>        
  </div>
  <div id="Pregunta10B2">
    <label> <strong> 10. B2. Consulta de ginecología: citologías, y otros relacionados sin incluir embarazo </strong> </label>
    <%= pie_chart Encuestum.group(:pregunta10_b2).count(:id) %>
<br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta10_b2).having("pregunta10_b2 != ?", "--").having("pregunta10_b2 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta10_b2).having("pregunta10_b2 != ?", "--").having("pregunta10_b2 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>   
    </table>
    <br>        
  </div>
  <div id="Pregunta10B3">
    <label> <strong> 10. B3. Consulta de medicina interna: internista </strong> </label>
    <%= pie_chart Encuestum.group(:pregunta10_b3).count(:id) %>
<br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta10_b3).having("pregunta10_b3 != ?", "--").having("pregunta10_b3 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta10_b3).having("pregunta10_b3 != ?", "--").having("pregunta10_b3 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>  
    </table>
    <br>        
  </div>  
  <div id="Pregunta10B4">
    <label> <strong> 10. B4. Consulta de pediatría </strong> </label>
    <%= pie_chart Encuestum.group(:pregunta10_b4).count(:id) %>
<br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta10_b4).having("pregunta10_b4 != ?", "--").having("pregunta10_b4 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta10_b4).having("pregunta10_b4 != ?", "--").having("pregunta10_b4 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody> 
    </table>
    <br>        
  </div>
  <div id="Pregunta10B5">
    <label> <strong> 10. B5. Cirugía general </strong> </label>
    <%= pie_chart Encuestum.group(:pregunta10_b5).count(:id) %>
<br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta10_b5).having("pregunta10_b5 != ?", "--").having("pregunta10_b5 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta10_b5).having("pregunta10_b5 != ?", "--").having("pregunta10_b5 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>  
    </table>
    <br>        
  </div>
  <div id="Pregunta10B6">
    <label> <strong> 10. B6. Otras consultas de medicina especializada: cardiología, neurología y ortopedia </strong> </label>
    <%= pie_chart Encuestum.group(:pregunta10_b6).count(:id) %>
<br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta10_b6).having("pregunta10_b6 != ?", "--").having("pregunta10_b6 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta10_b6).having("pregunta10_b6 != ?", "--").having("pregunta10_b6 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>  
    </table>
    <br>        
  </div> 
  <div id="Pregunta10C">
    <label> <strong> 10. C. Citas prioritarias cita no programada </strong> </label>
    <%= pie_chart Encuestum.group(:pregunta10_c).count(:id) %>
<br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta10_c).having("pregunta10_c != ?", "--").having("pregunta10_c != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta10_c).having("pregunta10_c != ?", "--").having("pregunta10_c != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>  
    </table>
    <br>        
  </div> 
  <div id="Pregunta10D">
    <label> <strong> 10. D. Urgencias </strong> </label>
    <%= pie_chart Encuestum.group(:pregunta10_d).count(:id) %>
<br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta10_d).having("pregunta10_d != ?", "--").having("pregunta10_d != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta10_d).having("pregunta10_d != ?", "--").having("pregunta10_d != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>   
    </table>
    <br>        
  </div> 
  <div id="Pregunta10E">
    <label> <strong> 10. E. Hospitalización </strong> </label>
    <%= pie_chart Encuestum.group(:pregunta10_e).count(:id) %>
<br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta10_e).having("pregunta10_e != ?", "--").having("pregunta10_e != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta10_e).having("pregunta10_e != ?", "--").having("pregunta10_e != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>   
    </table>
    <br>        
  </div> 
  <div id="Pregunta10F">
    <label> <strong> 10. F. Domiciliario: médicos, cuidados </strong> </label>
    <%= pie_chart Encuestum.group(:pregunta10_f).count(:id) %>
<br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta10_f).having("pregunta10_f != ?", "--").having("pregunta10_f != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta10_f).having("pregunta10_f != ?", "--").having("pregunta10_f != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>   
    </table>
    <br>        
  </div> 
  <div id="Pregunta10G">
    <label> <strong> 10. G. Entrega de medicamentos </strong> </label>
    <%= pie_chart Encuestum.group(:pregunta10_g).count(:id) %>
<br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta10_g).having("pregunta10_g != ?", "--").having("pregunta10_g != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta10_g).having("pregunta10_g != ?", "--").having("pregunta10_g != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody> 
    </table>
    <br>        
  </div> 
  <div id="Pregunta10H">
    <label> <strong> 10. H. Tratamientos asistidos: quimioterapia-radioterapias-diálisis </strong> </label>
    <%= pie_chart Encuestum.group(:pregunta10_h).count(:id) %>
<br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
            <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta10_h).having("pregunta10_h != ?", "--").having("pregunta10_h != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta10_h).having("pregunta10_h != ?", "--").having("pregunta10_h != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody> 
    </table>
    <br>        
  </div> 
  <div id="Pregunta10I">
    <label> <strong> 10. I. Programas de promoción de la salud y prevención de la enfermedad (PyP) </strong> </label>
    <%= pie_chart Encuestum.group(:pregunta10_i).count(:id) %>
<br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta10_i).having("pregunta10_i != ?", "--").having("pregunta10_i != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta10_i).having("pregunta10_i != ?", "--").having("pregunta10_i != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>   
    </table>
    <br>        
  </div> 
  <div id="Pregunta10J">
    <label> <strong> 10. J. Odontología </strong> </label>
    <%= pie_chart Encuestum.group(:pregunta10_j).count(:id) %>
<br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta10_j).having("pregunta10_j != ?", "--").having("pregunta10_j != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta10_j).having("pregunta10_j != ?", "--").having("pregunta10_j != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>  
    </table>
    <br>        
  </div> 
  <div id="Pregunta10K">
    <label> <strong> 10. K. Exámenes de laboratorio </strong> </label>
    <%= pie_chart Encuestum.group(:pregunta10_k).count(:id) %>
<br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta10_k).having("pregunta10_k != ?", "--").having("pregunta10_k != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta10_k).having("pregunta10_k != ?", "--").having("pregunta10_k != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>  
    </table>
    <br>        
  </div> 
  <div id="Pregunta10L">
    <label> <strong> 10. L. Radiografías, imágenes o pruebas de diagnóstico </strong> </label>
    <%= pie_chart Encuestum.group(:pregunta10_l).count(:id) %>
<br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta10_l).having("pregunta10_l != ?", "--").having("pregunta10_l != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta10_l).having("pregunta10_l != ?", "--").having("pregunta10_l != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>  
    </table>
    <br>        
  </div> 
  <div id="Pregunta10M">
    <label> <strong> 10. M. Terapias en la EPS: físicas, respiratorias, ocupacional, de lenguaje </strong> </label>
    <%= pie_chart Encuestum.group(:pregunta10_m).count(:id) %>
<br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta10_m).having("pregunta10_m != ?", "--").having("pregunta10_m != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta10_m).having("pregunta10_m != ?", "--").having("pregunta10_m != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody> 
    </table>
    <br>        
  </div>     
  <div id="Pregunta10N">
    <label> <strong> 10. N. Suministro de oxígeno  </strong> </label>
    <%= pie_chart Encuestum.group(:pregunta10_n).count(:id) %>
<br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta10_n).having("pregunta10_n != ?", "--").having("pregunta10_n != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta10_n).having("pregunta10_n != ?", "--").having("pregunta10_n != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>  
    </table>
    <br>        
  </div>   
<h3>11. Utilizando una escala de 1 a 5, 1 corresponde a un muy mal servicio y donde 5 indica un muy buen servicio. ¿Cómo califica el servicio de____ recibido en los últimos 6 meses? </h3>
 <div id="Pregunta11A">
    <label> <strong> 11. A. Consulta de medicina general </strong> </label>
    <%= bar_chart Encuestum.group(:pregunta11_a).having("pregunta11_a != ?", "--").having("pregunta11_a != ?", "").count(:id) %>
<br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta11_a).having("pregunta11_a != ?", "--").having("pregunta11_a != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta11_a).having("pregunta11_a != ?", "--").having("pregunta11_a != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>   
    </table>
    <br>        
  </div>
  <div id="Pregunta11B1">
    <label> <strong> 11. B1. Consulta de Obstetricia - control embarazo </strong> </label>
    <%= bar_chart Encuestum.group(:pregunta11_b1).having("pregunta11_b1 != ?", "--").having("pregunta11_b1 != ?", "").count(:id) %>
<br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
       <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta11_b1).having("pregunta11_b1 != ?", "--").having("pregunta11_b1 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta11_b1).having("pregunta11_b1 != ?", "--").having("pregunta11_b1 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody> 
    </table>
    <br>        
  </div>
  <div id="Pregunta11B2">
    <label> <strong> 11. B2. Consulta de ginecología: citologías, y otros relacionados sin incluir embarazo </strong> </label>
    <%= bar_chart Encuestum.group(:pregunta11_b2).having("pregunta11_b2 != ?", "--").having("pregunta11_b2 != ?", "").count(:id) %>
<br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta11_b2).having("pregunta11_b2 != ?", "--").having("pregunta11_b2 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta11_b2).having("pregunta11_b2 != ?", "--").having("pregunta11_b2 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>   
    </table>
    <br>        
  </div>
  <div id="Pregunta11B3">
    <label> <strong> 11. B3. Consulta de medicina interna: internista </strong> </label>
    <%= bar_chart Encuestum.group(:pregunta11_b3).having("pregunta11_b3 != ?", "--").having("pregunta11_b3 != ?", "").count(:id) %>
<br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta11_b3).having("pregunta11_b3 != ?", "--").having("pregunta11_b3 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta11_b3).having("pregunta11_b3 != ?", "--").having("pregunta11_b3 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody> 
    </table>
    <br>        
  </div>  
  <div id="Pregunta11B4">
    <label> <strong> 11. B4. Consulta de pediatría </strong> </label>
    <%= bar_chart Encuestum.group(:pregunta11_b4).having("pregunta11_b4 != ?", "--").having("pregunta11_b4 != ?", "").count(:id) %>
<br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta11_b4).having("pregunta11_b4 != ?", "--").having("pregunta11_b4 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta11_b4).having("pregunta11_b4 != ?", "--").having("pregunta11_b4 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody> 
    </table>
    <br>        
  </div>
  <div id="Pregunta11B5">
    <label> <strong> 11. B5. Cirugía general </strong> </label>
    <%= bar_chart Encuestum.group(:pregunta11_b5).having("pregunta11_b5 != ?", "--").having("pregunta11_b5 != ?", "").count(:id) %>
<br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta11_b5).having("pregunta11_b5 != ?", "--").having("pregunta11_b5 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta11_b5).having("pregunta11_b5 != ?", "--").having("pregunta11_b5 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>   
    </table>
    <br>        
  </div>
  <div id="Pregunta11B6">
    <label> <strong> 11. B6. Otras consultas de medicina especializada: cardiología, neurología y ortopedia </strong> </label>
    <%= bar_chart Encuestum.group(:pregunta11_b6).having("pregunta11_b6 != ?", "--").having("pregunta11_b6 != ?", "").count(:id) %>
<br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta11_b6).having("pregunta11_b6 != ?", "--").having("pregunta11_b6 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta11_b6).having("pregunta11_b6 != ?", "--").having("pregunta11_b6 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>   
    </table>
    <br>        
  </div> 
  <div id="Pregunta11C">
    <label> <strong> 11. C. Citas prioritarias cita no programada </strong> </label>
    <%= bar_chart Encuestum.group(:pregunta11_c).having("pregunta11_c != ?", "--").having("pregunta11_c != ?", "").count(:id) %>
<br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta11_c).having("pregunta11_c != ?", "--").having("pregunta11_c != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta11_c).having("pregunta11_c != ?", "--").having("pregunta11_c != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>  
    </table>
    <br>        
  </div> 
  <div id="Pregunta11D">
    <label> <strong> 11. D. Urgencias </strong> </label>
    <%= bar_chart Encuestum.group(:pregunta11_d).having("pregunta11_d != ?", "--").having("pregunta11_d != ?", "").count(:id) %>
  <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta11_d).having("pregunta11_d != ?", "--").having("pregunta11_d != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta11_d).having("pregunta11_d != ?", "--").having("pregunta11_d != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>   
    </table>
    <br>   
  </div> 
  <div id="Pregunta11E">
    <label> <strong> 11. E. Hospitalización </strong> </label>
    <%= bar_chart Encuestum.group(:pregunta11_e).having("pregunta11_e != ?", "--").having("pregunta11_e != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta11_e).having("pregunta11_e != ?", "--").having("pregunta11_e != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta11_e).having("pregunta11_e != ?", "--").having("pregunta11_e != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>  
    </table>
    <br> 
  </div> 
  <div id="Pregunta11F">
    <label> <strong> 11. F. Domiciliario: médicos, cuidados </strong> </label>
    <%= bar_chart Encuestum.group(:pregunta11_f).having("pregunta11_f != ?", "--").having("pregunta11_f != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta11_f).having("pregunta11_f != ?", "--").having("pregunta11_f != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta11_f).having("pregunta11_f != ?", "--").having("pregunta11_f != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>   
    </table>
    <br> 
  </div> 
  <div id="Pregunta11G">
    <label> <strong> 11. G. Entrega de medicamentos </strong> </label>
    <%= bar_chart Encuestum.group(:pregunta11_g).having("pregunta11_g != ?", "--").having("pregunta11_g != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
       <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta11_g).having("pregunta11_g != ?", "--").having("pregunta11_g != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta11_g).having("pregunta11_g != ?", "--").having("pregunta11_g != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody> 
    </table>
    <br> 
  </div> 
  <div id="Pregunta11H">
    <label> <strong> 11. H. Tratamientos asistidos: quimioterapia-radioterapias-diálisis </strong> </label>
    <%= bar_chart Encuestum.group(:pregunta11_h).having("pregunta11_h != ?", "--").having("pregunta11_h != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta11_h).having("pregunta11_h != ?", "--").having("pregunta11_h != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta11_h).having("pregunta11_h != ?", "--").having("pregunta11_h != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>   
    </table>
    <br> 
  </div> 
  <div id="Pregunta11I">
    <label> <strong> 11. I. Programas de promoción de la salud y prevención de la enfermedad (PyP) </strong> </label>
    <%= bar_chart Encuestum.group(:pregunta11_i).having("pregunta11_i != ?", "--").having("pregunta11_i != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta11_i).having("pregunta11_i != ?", "--").having("pregunta11_i != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta11_i).having("pregunta11_i != ?", "--").having("pregunta11_i != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>  
    </table>
    <br> 
  </div> 
  <div id="Pregunta11J">
    <label> <strong> 11. J. Odontología </strong> </label>
    <%= bar_chart Encuestum.group(:pregunta11_j).having("pregunta11_j != ?", "--").having("pregunta11_j != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta11_j).having("pregunta11_j != ?", "--").having("pregunta11_j != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta11_j).having("pregunta11_j != ?", "--").having("pregunta11_j != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody> 
    </table>
    <br> 
  </div> 
  <div id="Pregunta11K">
    <label> <strong> 11. K. Exámenes de laboratorio </strong> </label>
    <%= bar_chart Encuestum.group(:pregunta11_k).having("pregunta11_k != ?", "--").having("pregunta11_k != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta11_k).having("pregunta11_k != ?", "--").having("pregunta11_k != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta11_k).having("pregunta11_k != ?", "--").having("pregunta11_k != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>   
    </table>
    <br> 
  </div> 
  <div id="Pregunta11L">
    <label> <strong> 11. L. Radiografías, imágenes o pruebas de diagnóstico </strong> </label>
    <%= bar_chart Encuestum.group(:pregunta11_l).having("pregunta11_l != ?", "--").having("pregunta11_l != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta11_l).having("pregunta11_l != ?", "--").having("pregunta11_l != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta11_l).having("pregunta11_l != ?", "--").having("pregunta11_l != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>   
    </table>
    <br> 
  </div> 
  <div id="Pregunta11M">
    <label> <strong> 11. M. Terapias en la EPS: físicas, respiratorias, ocupacional, de lenguaje </strong> </label>
    <%= bar_chart Encuestum.group(:pregunta11_m).having("pregunta11_m != ?", "--").having("pregunta11_m != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta11_m).having("pregunta11_m != ?", "--").having("pregunta11_m != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta11_m).having("pregunta11_m != ?", "--").having("pregunta11_m != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>  
    </table>
    <br> 
  </div>     
  <div id="Pregunta11N">
    <label> <strong> 11. N. Suministro de oxígeno  </strong> </label>
    <%= bar_chart Encuestum.group(:pregunta11_n).having("pregunta11_n != ?", "--").having("pregunta11_n != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta11_n).having("pregunta11_n != ?", "--").having("pregunta11_n != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta11_n).having("pregunta11_n != ?", "--").having("pregunta11_n != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>   
    </table>
    <br> 
  </div> 
<h3>13. ¿De acuerdo a las opciones de esta tarjeta, como le pareció el tiempo de espera para ser atendido en el servicio de ______? </h3>
 <div id="Pregunta13A">
    <label> <strong> 13. A. Consulta de medicina general </strong> </label>
    <%= column_chart Encuestum.group(:pregunta13_a).having("pregunta13_a != ?", "--").having("pregunta13_a != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta13_a).having("pregunta13_a != ?", "--").having("pregunta13_a != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta13_a).having("pregunta13_a != ?", "--").having("pregunta13_a != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>   
    </table>
    <br> 
  </div>
  <div id="Pregunta13B1">
    <label> <strong> 13. B1. Consulta de Obstetricia - control embarazo </strong> </label>
    <%= column_chart Encuestum.group(:pregunta13_b1).having("pregunta13_b1 != ?", "--").having("pregunta13_b1 != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
        <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta13_b1).having("pregunta13_b1 != ?", "--").having("pregunta13_b1 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta13_b1).having("pregunta13_b1 != ?", "--").having("pregunta13_b1 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>  
    </table>
    <br> 
  </div>
  <div id="Pregunta13B2">
    <label> <strong> 13. B2. Consulta de ginecología: citologías, y otros relacionados sin incluir embarazo </strong> </label>
    <%= column_chart Encuestum.group(:pregunta13_b2).having("pregunta13_b2 != ?", "--").having("pregunta13_b2 != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta13_b2).having("pregunta13_b2 != ?", "--").having("pregunta13_b2 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta13_b2).having("pregunta13_b2 != ?", "--").having("pregunta13_b2 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>   
    </table>
    <br> 
  </div>
  <div id="Pregunta13B3">
    <label> <strong> 13. B3. Consulta de medicina interna: internista </strong> </label>
    <%= column_chart Encuestum.group(:pregunta13_b3).having("pregunta13_b3 != ?", "--").having("pregunta13_b3 != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta13_b3).having("pregunta13_b3 != ?", "--").having("pregunta13_b3 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta13_b3).having("pregunta13_b3 != ?", "--").having("pregunta13_b3 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>  
    </table>
    <br> 
  </div>  
  <div id="Pregunta13B4">
    <label> <strong> 13. B4. Consulta de pediatría </strong> </label>
    <%= column_chart Encuestum.group(:pregunta13_b4).having("pregunta13_b4 != ?", "--").having("pregunta13_b4 != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta13_b4).having("pregunta13_b4 != ?", "--").having("pregunta13_b4 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta13_b4).having("pregunta13_b4 != ?", "--").having("pregunta13_b4 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>   
    </table>
    <br> 
  </div>
  <div id="Pregunta13B5">
    <label> <strong> 13. B5. Cirugía general </strong> </label>
    <%= column_chart Encuestum.group(:pregunta13_b5).having("pregunta13_b5 != ?", "--").having("pregunta13_b5 != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta13_b5).having("pregunta13_b5 != ?", "--").having("pregunta13_b5 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta13_b5).having("pregunta13_b5 != ?", "--").having("pregunta13_b5 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>  
    </table>
    <br> 
  </div>
  <div id="Pregunta13B6">
    <label> <strong> 13. B6. Otras consultas de medicina especializada: cardiología, neurología y ortopedia </strong> </label>
    <%= column_chart Encuestum.group(:pregunta13_b6).having("pregunta13_b6 != ?", "--").having("pregunta13_b6 != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta13_b6).having("pregunta13_b6 != ?", "--").having("pregunta13_b6 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta13_b6).having("pregunta13_b6 != ?", "--").having("pregunta13_b6 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>  
    </table>
    <br> 
  </div> 
  <div id="Pregunta13C">
    <label> <strong> 13. C. Citas prioritarias cita no programada </strong> </label>
    <%= column_chart Encuestum.group(:pregunta13_c).having("pregunta13_c != ?", "--").having("pregunta13_c != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta13_c).having("pregunta13_c != ?", "--").having("pregunta13_c != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta13_c).having("pregunta13_c != ?", "--").having("pregunta13_c != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>   
    </table>
    <br> 
  </div> 
  <div id="Pregunta13D">
    <label> <strong> 13. D. Urgencias </strong> </label>
    <%= column_chart Encuestum.group(:pregunta13_d).having("pregunta13_d != ?", "--").having("pregunta13_d != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta13_d).having("pregunta13_d != ?", "--").having("pregunta13_d != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta13_d).having("pregunta13_d != ?", "--").having("pregunta13_d != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>  
    </table>
    <br> 
  </div> 
  <div id="Pregunta13E">
    <label> <strong> 13. E. Hospitalización </strong> </label>
    <%= column_chart Encuestum.group(:pregunta13_e).having("pregunta13_e != ?", "--").having("pregunta13_e != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta13_e).having("pregunta13_e != ?", "--").having("pregunta13_e != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta13_e).having("pregunta13_e != ?", "--").having("pregunta13_e != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody> 
    </table>
    <br> 
  </div> 
  <div id="Pregunta13F">
    <label> <strong> 13. F. Domiciliario: médicos, cuidados </strong> </label>
    <%= column_chart Encuestum.group(:pregunta13_f).having("pregunta13_f != ?", "--").having("pregunta13_f != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta13_f).having("pregunta13_f != ?", "--").having("pregunta13_f != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta13_f).having("pregunta13_f != ?", "--").having("pregunta13_f != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>  
    </table>
    <br> 
  </div> 
  <div id="Pregunta13G">
    <label> <strong> 13. G. Entrega de medicamentos </strong> </label>
    <%= column_chart Encuestum.group(:pregunta13_g).having("pregunta13_g != ?", "--").having("pregunta13_g != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
       <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta13_g).having("pregunta13_g != ?", "--").having("pregunta13_g != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta13_g).having("pregunta13_g != ?", "--").having("pregunta13_g != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody> 
    </table>
    <br> 
  </div> 
  <div id="Pregunta13H">
    <label> <strong> 13. H. Tratamientos asistidos: quimioterapia-radioterapias-diálisis </strong> </label>
    <%= column_chart Encuestum.group(:pregunta13_h).having("pregunta13_h != ?", "--").having("pregunta13_h != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta13_h).having("pregunta13_h != ?", "--").having("pregunta13_h != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta13_h).having("pregunta13_h != ?", "--").having("pregunta13_h != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>   
    </table>
    <br> 
  </div> 
  <div id="Pregunta13I">
    <label> <strong> 13. I. Programas de promoción de la salud y prevención de la enfermedad (PyP) </strong> </label>
    <%= column_chart Encuestum.group(:pregunta13_i).having("pregunta13_i != ?", "--").having("pregunta13_i != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta13_i).having("pregunta13_i != ?", "--").having("pregunta13_i != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta13_i).having("pregunta13_i != ?", "--").having("pregunta13_i != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>   
    </table>
    <br> 
  </div> 
  <div id="Pregunta13J">
    <label> <strong> 13. J. Odontología </strong> </label>
    <%= column_chart Encuestum.group(:pregunta13_j).having("pregunta13_j != ?", "--").having("pregunta13_j != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta13_j).having("pregunta13_j != ?", "--").having("pregunta13_j != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta13_j).having("pregunta13_j != ?", "--").having("pregunta13_j != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>   
    </table>
    <br> 
  </div> 
  <div id="Pregunta13K">
    <label> <strong> 13. K. Exámenes de laboratorio </strong> </label>
    <%= column_chart Encuestum.group(:pregunta13_k).having("pregunta13_k != ?", "--").having("pregunta13_k != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta13_k).having("pregunta13_k != ?", "--").having("pregunta13_k != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta13_k).having("pregunta13_k != ?", "--").having("pregunta13_k != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>  
    </table>
    <br> 
  </div> 
  <div id="Pregunta13L">
    <label> <strong> 13. L. Radiografías, imágenes o pruebas de diagnóstico </strong> </label>
    <%= column_chart Encuestum.group(:pregunta13_l).having("pregunta13_l != ?", "--").having("pregunta13_l != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta13_l).having("pregunta13_l != ?", "--").having("pregunta13_l != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta13_l).having("pregunta13_l != ?", "--").having("pregunta13_l != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>  
    </table>
    <br> 
  </div> 
  <div id="Pregunta13M">
    <label> <strong> 13. M. Terapias en la EPS: físicas, respiratorias, ocupacional, de lenguaje </strong> </label>
    <%= column_chart Encuestum.group(:pregunta13_m).having("pregunta13_m != ?", "--").having("pregunta13_m != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta13_m).having("pregunta13_m != ?", "--").having("pregunta13_m != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta13_m).having("pregunta13_m != ?", "--").having("pregunta13_m != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>  
    </table>
    <br> 
  </div>     
  <div id="Pregunta13N">
    <label> <strong> 13. N. Suministro de oxígeno  </strong> </label>
    <%= column_chart Encuestum.group(:pregunta13_n).having("pregunta13_n != ?", "--").having("pregunta13_n != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta13_n).having("pregunta13_n != ?", "--").having("pregunta13_n != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta13_n).having("pregunta13_n != ?", "--").having("pregunta13_n != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>  
    </table>
    <br> 
  </div>   
  <div id="Pregunta14">
    <label> <strong> 14. Usted me indica que en los últimos seis meses fue usuario del servicio de urgencias  </strong> </label>
    <%= pie_chart Encuestum.group(:pregunta14).having("pregunta14 != ?", "--").having("pregunta14 != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta14).having("pregunta14 != ?", "--").having("pregunta14 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta14).having("pregunta14 != ?", "--").having("pregunta14 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>  
    </table>
    <br> 
  </div>  
  <div id="Pregunta14a">
    <label> <strong> 14.1. ¿Por cuales de las siguientes razones usó en los últimos seis meses el servicio de urgencias? Por favor, si usted utilizó varias veces el servicio de urgencias en los últimos seis meses, refiérase solo a la última vez que lo utilizó.  </strong> </label>
    <%= bar_chart Encuestum.group(:pregunta14_1).having("pregunta14_1 != ?", "--").having("pregunta14_1 != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta14).having("pregunta14 != ?", "--").having("pregunta14 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta14).having("pregunta14 != ?", "--").having("pregunta14 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>   
    </table>
    <br> 
  </div>  
  <div id="Pregunta15A">
    <label> <strong> 15. a. Anteriormente me indicó que en los últimos seis meses solicitó y/o le entregaron medicamentos  </strong> </label>
    <%= pie_chart Encuestum.group(:pregunta15_a).having("pregunta15_a != ?", "--").having("pregunta15_a != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta15_a).having("pregunta15_a != ?", "--").having("pregunta15_a != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta15_a).having("pregunta15_a != ?", "--").having("pregunta15_a != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>   
    </table>
    <br> 
  </div>     
  <div id="Pregunta15B">
    <label> <strong> 15. B. ¿Le entregaron todos los medicamentos la primera vez que los solicitó ?  </strong> </label>
    <%= pie_chart Encuestum.group(:pregunta15_b).having("pregunta15_b != ?", "--").having("pregunta15_b != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta15_b).having("pregunta15_b != ?", "--").having("pregunta15_b != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta15_b).having("pregunta15_b != ?", "--").having("pregunta15_b != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>   
    </table>
    <br> 
  </div>  
  <div id="Pregunta15C">
    <label> <strong> 15. C. ¿Le ofrecieron la posibilidad de entregarle los medicamentos faltantes a domicilio?   </strong> </label>
    <%= pie_chart Encuestum.group(:pregunta15_c).having("pregunta15_c != ?", "--").having("pregunta15_c != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta15_c).having("pregunta15_c != ?", "--").having("pregunta15_c != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta15_c).having("pregunta15_c != ?", "--").having("pregunta15_c != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>  
    </table>
    <br> 
  </div>  
  <div id="Pregunta15D">
    <label> <strong> 15. D. ¿Aceptó usted esa opción de entrega?  </strong> </label>
    <%= pie_chart Encuestum.group(:pregunta15_d).having("pregunta15_d != ?", "--").having("pregunta15_d != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta15_d).having("pregunta15_d != ?", "--").having("pregunta15_d != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta15_d).having("pregunta15_d != ?", "--").having("pregunta15_d != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody> 
    </table>
    <br> 
  </div>  
  <div id="Pregunta15E">
    <label> <strong> 15. E. ¿Le llegaron los medicamentos faltantes al domicilio?  </strong> </label>
    <%= pie_chart Encuestum.group(:pregunta15_e).having("pregunta15_e != ?", "--").having("pregunta15_e != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta15_e).having("pregunta15_e != ?", "--").having("pregunta15_e != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta15_e).having("pregunta15_e != ?", "--").having("pregunta15_e != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>  
    </table>
    <br> 
  </div>  
  
  <div id="Pregunta16">
    <label> <strong> 16. En los últimos 6 meses, cuando usted solicitó que le prestaran un servicio de salud, ¿Fue informado que no había agenda?   </strong> </label>
    <%= pie_chart Encuestum.group(:pregunta16).having("pregunta16 != ?", "--").having("pregunta16 != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta16).having("pregunta16 != ?", "--").having("pregunta16 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta16).having("pregunta16 != ?", "--").having("pregunta16 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>   
    </table>
    <br> 
  </div>   
  <div id="Pregunta17">
    <label> <strong> 17. En los últimos 6 meses, ¿su EPS le ha negado algún servicio? </strong> </label>
    <%= pie_chart Encuestum.group(:pregunta17).having("pregunta17 != ?", "--").having("pregunta17 != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta17).having("pregunta17 != ?", "--").having("pregunta17 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta17).having("pregunta17 != ?", "--").having("pregunta17 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>   
    </table>
    <br> 
  </div>  
       
  <div id="Pregunta18">
    <label> <strong> 18. En los últimos 6 meses, ¿para cubrir los costos de consulta médica, exámenes o medicamentos, utilizó recursos propios y/o familiares? </strong> </label>
    <%= pie_chart Encuestum.group(:pregunta18).having("pregunta18 != ?", "--").having("pregunta18 != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta18).having("pregunta18 != ?", "--").having("pregunta18 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta18).having("pregunta18 != ?", "--").having("pregunta18 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>   
    </table>
    <br> 
  </div>      
  <div id="Pregunta19">
    <label> <strong> 19. ¿Por qué razón(es) utilizó recursos propios y/o familiares para cubrir la atención en salud? </strong> </label>
    <%= bar_chart Encuestum.group(:pregunta19).having("pregunta19 != ?", "--").having("pregunta19 != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta19).having("pregunta19 != ?", "--").having("pregunta19 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta19).having("pregunta19 != ?", "--").having("pregunta19 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody> 
    </table>
    <br> 
  </div>  

  <div id="Pregunta21">
    <label> <strong> 21. ¿ De qué forma solicita regularmente sus citas medicas? </strong> </label>
    <%= bar_chart Encuestum.group(:pregunta21).having("pregunta21 != ?", "--").having("pregunta21 != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta21).having("pregunta21 != ?", "--").having("pregunta21 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta21).having("pregunta21 != ?", "--").having("pregunta21 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody> 
    </table>
    <br>
  </div>
  <div id="Pregunta22">
    <label> <strong> 22. ¿Por qué utiliza regularmente esta opción para solicitar la cita medica? </strong> </label>
    <%= bar_chart Encuestum.group(:pregunta22).having("pregunta22 != ?", "--").having("pregunta22 != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
         <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta22).having("pregunta22 != ?", "--").having("pregunta22 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta22).having("pregunta22 != ?", "--").having("pregunta22 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>   
    </table>
    <br>
  </div>
  <div id="Pregunta23">
    <label> <strong> 23. En general  ¿Cómo califica la comunicación que brinda su EPS,  sobre los servicios que presta? </strong> </label>
    <%= bar_chart Encuestum.group(:pregunta23).having("pregunta23 != ?", "--").having("pregunta23 != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta23).having("pregunta23 != ?", "--").having("pregunta23 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta23).having("pregunta23 != ?", "--").having("pregunta23 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>  
    </table>
    <br>
  </div>
        
<h3>27. ¿Su EPS en los últimos 6 meses le ha dado a conocer alguno de los siguientes programas y/o servicios?</h3>
  <div id="Pregunta27A">
    <label> <strong> 27 A. Programa de control prenatal </strong> </label>
    <%= pie_chart Encuestum.group(:pregunta27_a).having("pregunta27_a != ?", "--").having("pregunta27_a != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta27_a).having("pregunta27_a != ?", "--").having("pregunta27_a != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta27_a).having("pregunta27_a != ?", "--").having("pregunta27_a != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>  
    </table>
    <br>
  </div> 
  <div id="Pregunta27B">
    <label> <strong> 27 B. Vacunación </strong> </label>
    <%= pie_chart Encuestum.group(:pregunta27_b).having("pregunta27_b != ?", "--").having("pregunta27_b != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta27_b).having("pregunta27_b != ?", "--").having("pregunta27_b != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta27_b).having("pregunta27_b != ?", "--").having("pregunta27_b != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>  
    </table>
    <br>
  </div>
  <div id="Pregunta27C">
    <label> <strong> 27 C. Programa de crecimiento y desarrollo </strong> </label>
    <%= pie_chart Encuestum.group(:pregunta27_c).having("pregunta27_c != ?", "--").having("pregunta27_c != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta27_c).having("pregunta27_c != ?", "--").having("pregunta27_c != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta27_c).having("pregunta27_c != ?", "--").having("pregunta27_c != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>  
    </table>
    <br>
  </div>
  <div id="Pregunta27D">
    <label> <strong> 27 D. Programa de planificación familiar </strong> </label>
    <%= pie_chart Encuestum.group(:pregunta27_d).having("pregunta27_d != ?", "--").having("pregunta27_d != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta27_d).having("pregunta27_d != ?", "--").having("pregunta27_d != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta27_d).having("pregunta27_d != ?", "--").having("pregunta27_d != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>  
    </table>
    <br>
  </div>
  <div id="Pregunta27E">
    <label> <strong> 27 E. Programa de salud visual </strong> </label>
    <%= pie_chart Encuestum.group(:pregunta27_e).having("pregunta27_e != ?", "--").having("pregunta27_e != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta27_e).having("pregunta27_e != ?", "--").having("pregunta27_e != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta27_e).having("pregunta27_e != ?", "--").having("pregunta27_e != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>   
    </table>
    <br>
  </div>
  <div id="Pregunta27F">
    <label> <strong> 27 F. Mamografía </strong> </label>
    <%= pie_chart Encuestum.group(:pregunta27_f).having("pregunta27_f != ?", "--").having("pregunta27_f != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta27_f).having("pregunta27_f != ?", "--").having("pregunta27_f != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta27_f).having("pregunta27_f != ?", "--").having("pregunta27_f != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>  
    </table>
    <br>
  </div>
  <div id="Pregunta27G">
    <label> <strong> 27 G. Citologías </strong> </label>
    <%= pie_chart Encuestum.group(:pregunta27_g).having("pregunta27_g != ?", "--").having("pregunta27_g != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta27_g).having("pregunta27_g != ?", "--").having("pregunta27_g != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta27_g).having("pregunta27_g != ?", "--").having("pregunta27_g != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>  
    </table>
    <br>
  </div>
  <div id="Pregunta27H">
    <label> <strong> 27 H. Salud oral </strong> </label>
    <%= pie_chart Encuestum.group(:pregunta27_h).having("pregunta27_h != ?", "--").having("pregunta27_h != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta27_h).having("pregunta27_h != ?", "--").having("pregunta27_h != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta27_h).having("pregunta27_h != ?", "--").having("pregunta27_h != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>  
    </table>
    <br>
  </div>
  <div id="Pregunta27I">
    <label> <strong> 27 I. Programas de acuerdo a su grupo de edad (programa de: adulto joven, adulto, adulto mayor, entre otros) </strong> </label>
    <%= pie_chart Encuestum.group(:pregunta27_i).having("pregunta27_i != ?", "--").having("pregunta27_i != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta27_i).having("pregunta27_i != ?", "--").having("pregunta27_i != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta27_i).having("pregunta27_i != ?", "--").having("pregunta27_i != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>
    </table>
    <br>
  </div>
  <div id="Pregunta27J">
    <label> <strong> 27 J. Programas de Enfermedades crónicas (Enfermedades que duran más de 30 días como:  diabetes, pulmonares, hipertensión, enfermedad renal crónica, etc.) </strong> </label>
    <%= pie_chart Encuestum.group(:pregunta27_j).having("pregunta27_j != ?", "--").having("pregunta27_j != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta27_j).having("pregunta27_j != ?", "--").having("pregunta27_j != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta27_j).having("pregunta27_j != ?", "--").having("pregunta27_j != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>  
    </table>
    <br>
  </div>   
  <div id="Pregunta27K">
    <label> <strong> 27 K. Programas relacionados con salud mental </strong> </label>
    <%= pie_chart Encuestum.group(:pregunta27_k).having("pregunta27_k != ?", "--").having("pregunta27_k != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta27_k).having("pregunta27_k != ?", "--").having("pregunta27_k != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta27_k).having("pregunta27_k != ?", "--").having("pregunta27_k != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody> 
    </table>
    <br>
  </div>    
<h3>28. ¿Su EPS en los últimos 6 meses le ha dado a conocer alguno de los siguientes programas y/o servicios?</h3>
  <div id="Pregunta28A">
    <label> <strong> 28 A. Programa de control prenatal </strong> </label>
    <%= pie_chart Encuestum.group(:pregunta28_a).having("pregunta28_a != ?", "--").having("pregunta28_a != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta28_a).having("pregunta28_a != ?", "--").having("pregunta28_a != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta28_a).having("pregunta28_a != ?", "--").having("pregunta28_a != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>  
    </table>
    <br>
  </div> 
  <div id="Pregunta28B">
    <label> <strong> 28 B. Vacunación </strong> </label>
    <%= pie_chart Encuestum.group(:pregunta28_b).having("pregunta28_b != ?", "--").having("pregunta28_b != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta28_b).having("pregunta28_b != ?", "--").having("pregunta28_b != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta28_b).having("pregunta28_b != ?", "--").having("pregunta28_b != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>  
    </table>
    <br>
  </div>
  <div id="Pregunta28C">
    <label> <strong> 28 C. Programa de crecimiento y desarrollo </strong> </label>
    <%= pie_chart Encuestum.group(:pregunta28_c).having("pregunta28_c != ?", "--").having("pregunta28_c != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta28_c).having("pregunta28_c != ?", "--").having("pregunta28_c != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta28_c).having("pregunta28_c != ?", "--").having("pregunta28_c != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>   
    </table>
    <br>
  </div>
  <div id="Pregunta28D">
    <label> <strong> 28 D. Programa de planificación familiar </strong> </label>
    <%= pie_chart Encuestum.group(:pregunta28_d).having("pregunta28_d != ?", "--").having("pregunta28_d != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
       <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta28_d).having("pregunta28_d != ?", "--").having("pregunta28_d != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta28_d).having("pregunta28_d != ?", "--").having("pregunta28_d != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>   
    </table>
    <br>
  </div>
  <div id="Pregunta28E">
    <label> <strong> 28 E. Programa de salud visual </strong> </label>
    <%= pie_chart Encuestum.group(:pregunta28_e).having("pregunta28_e != ?", "--").having("pregunta28_e != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta28_e).having("pregunta28_e != ?", "--").having("pregunta28_e != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta28_e).having("pregunta28_e != ?", "--").having("pregunta28_e != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody> 
    </table>
    <br>
  </div>
  <div id="Pregunta28F">
    <label> <strong> 28 F. Mamografía </strong> </label>
    <%= pie_chart Encuestum.group(:pregunta28_f).having("pregunta28_f != ?", "--").having("pregunta28_f != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta28_f).having("pregunta28_f != ?", "--").having("pregunta28_f != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta28_f).having("pregunta28_f != ?", "--").having("pregunta28_f != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody> 
    </table>
    <br>
  </div>
  <div id="Pregunta28G">
    <label> <strong> 28 G. Citologías </strong> </label>
    <%= pie_chart Encuestum.group(:pregunta28_g).having("pregunta28_g != ?", "--").having("pregunta28_g != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta28_g).having("pregunta28_g != ?", "--").having("pregunta28_g != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta28_g).having("pregunta28_g != ?", "--").having("pregunta28_g != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody> 
    </table>
    <br>
  </div>
  <div id="Pregunta28H">
    <label> <strong> 28 H. Salud oral </strong> </label>
    <%= pie_chart Encuestum.group(:pregunta28_h).having("pregunta28_h != ?", "--").having("pregunta28_h != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta28_h).having("pregunta28_h != ?", "--").having("pregunta28_h != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta28_h).having("pregunta28_h != ?", "--").having("pregunta28_h != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>   
    </table>
    <br>
  </div>
  <div id="Pregunta28I">
    <label> <strong> 28 I. Programas de acuerdo a su grupo de edad (programa de: adulto joven, adulto, adulto mayor, entre otros) </strong> </label>
    <%= pie_chart Encuestum.group(:pregunta28_i).having("pregunta28_i != ?", "--").having("pregunta28_i != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta28_i).having("pregunta28_i != ?", "--").having("pregunta28_i != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta28_i).having("pregunta28_i != ?", "--").having("pregunta28_i != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>  
    </table>
    <br>
  </div>
  <div id="Pregunta28J">
    <label> <strong> 28 J. Programas de Enfermedades crónicas (Enfermedades que duran más de 30 días como:  diabetes, pulmonares, hipertensión, enfermedad renal crónica, etc.) </strong> </label>
    <%= pie_chart Encuestum.group(:pregunta28_j).having("pregunta28_j != ?", "--").having("pregunta28_j != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
       <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta28_j).having("pregunta28_j != ?", "--").having("pregunta28_j != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta28_j).having("pregunta28_j != ?", "--").having("pregunta28_j != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>  
    </table>
    <br>
  </div>   
  <div id="Pregunta28K">
    <label> <strong> 28 K. Programas relacionados con salud mental </strong> </label>
    <%= pie_chart Encuestum.group(:pregunta28_k).having("pregunta28_k != ?", "--").having("pregunta28_k != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta28_k).having("pregunta28_k != ?", "--").having("pregunta28_k != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta28_k).having("pregunta28_k != ?", "--").having("pregunta28_k != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>   
    </table>
    <br>
  </div>   
  <div id="Pregunta29A">
    <label> <strong> 29. A. Pensando en los últimos 6 meses, ¿Cómo calificaría su experiencia global respecto a los servicios de salud que ha recibido a través de su EPS? </strong> </label>
    <%= bar_chart Encuestum.group(:pregunta29_a).having("pregunta29_a != ?", "--").having("pregunta29_a != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta29_a).having("pregunta29_a != ?", "--").having("pregunta29_a != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta29_a).having("pregunta29_a != ?", "--").having("pregunta29_a != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>   
    </table>
    <br>
  </div>   
  <div id="Pregunta29B">
    <label> <strong> 29. B. ¿Cómo califica la solución que le dio la EPS a la necesidad de Salud por la cual usted consultó la última vez? </strong> </label>
    <%= bar_chart Encuestum.group(:pregunta29_b).having("pregunta29_b != ?", "--").having("pregunta29_b != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta29_b).having("pregunta29_b != ?", "--").having("pregunta29_b != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta29_b).having("pregunta29_b != ?", "--").having("pregunta29_b != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>   
    </table>
    <br>
  </div> 
  <div id="Pregunta30">
    <label> <strong> 30. En general, en los últimos 6 meses, usted considera que acceder a servicios de salud (exámenes, hospitalizaciones, urgencias, consultas médicas y terapias) a través de su EPS fue </strong> </label>
    <%= column_chart Encuestum.group(:pregunta30).having("pregunta30 != ?", "--").having("pregunta30 != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta30).having("pregunta30 != ?", "--").having("pregunta30 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta30).having("pregunta30 != ?", "--").having("pregunta30 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody> 
    </table>
    <br>
  </div> 
  <div id="Pregunta31A">
    <label> <strong> 31. A. ¿Considera que si llegara a estar gravemente enfermo(a), podrá acceder de forma oportuna o a tiempo a los servicios de salud necesarios a través de su EPS ? </strong> </label>
    <%= column_chart Encuestum.group(:pregunta31_a).having("pregunta31_a != ?", "--").having("pregunta31_a != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
       <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta31_a).having("pregunta31_a != ?", "--").having("pregunta31_a != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta31_a).having("pregunta31_a != ?", "--").having("pregunta31_a != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>  
    </table>
    <br>
  </div> 
  <div id="Pregunta31B">
    <label> <strong> 31. B. ¿Recomendaría a sus familiares y amigos afiliarse a su EPS? </strong> </label>
    <%= column_chart Encuestum.group(:pregunta31_b).having("pregunta31_b != ?", "--").having("pregunta31_b != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
            <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta31_b).having("pregunta31_b != ?", "--").having("pregunta31_b != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta31_b).having("pregunta31_b != ?", "--").having("pregunta31_b != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>  
    </table>
    <br>
  </div> 
  <div id="Pregunta32A">
    <label> <strong> 32. A. ¿Su EPS le permite escoger el centro de atención básica al que asiste? </strong> </label>
    <%= column_chart Encuestum.group(:pregunta32_a).having("pregunta32_a != ?", "--").having("pregunta32_a != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta32_a).having("pregunta32_a != ?", "--").having("pregunta32_a != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta32_a).having("pregunta32_a != ?", "--").having("pregunta32_a != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>   
    </table>
    <br>
  </div> 
  <div id="Pregunta32B">
    <label> <strong> 32. B. Cuando usted quiere que lo atienda el mismo médico general. ¿Su EPS se lo permite? </strong> </label>
    <%= column_chart Encuestum.group(:pregunta32_b).having("pregunta32_b != ?", "--").having("pregunta32_b != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta32_b).having("pregunta32_b != ?", "--").having("pregunta32_b != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta32_b).having("pregunta32_b != ?", "--").having("pregunta32_b != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>   
    </table>
    <br>
  </div> 
  <div id="Pregunta32C">
    <label> <strong> 32. C. Cuando necesita una cita con médico especialista, ¿La EPS le permite escoger el centro de atención dentro de la red contratada? </strong> </label>
    <%= column_chart Encuestum.group(:pregunta32_c).having("pregunta32_c != ?", "--").having("pregunta32_c != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
       <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta32_c).having("pregunta32_c != ?", "--").having("pregunta32_c != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta32_c).having("pregunta32_c != ?", "--").having("pregunta32_c != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>   
    </table>
    <br>
  </div> 
  <div id="Pregunta32D">
    <label> <strong> 32. D. Cuando necesita una cita con médico especialista, ¿Su EPS le permite escoger el médico especialista? </strong> </label>
    <%= column_chart Encuestum.group(:pregunta32_d).having("pregunta32_d != ?", "--").having("pregunta32_d != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
       <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta32_d).having("pregunta32_d != ?", "--").having("pregunta32_d != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta32_d).having("pregunta32_d != ?", "--").having("pregunta32_d != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>  
    </table>
    <br>
  </div> 
  <div id="Pregunta33">
    <label> <strong> 33. En los últimos 6 meses usted, ¿Ha tenido algún(os) problema(s) en la atención con su prestador de servicios? (médico, clínica u hospital, farmacia, ambulancia o prestador de atención domiciliario) </strong> </label>
    <%= pie_chart Encuestum.group(:pregunta33).having("pregunta33 != ?", "--").having("pregunta33 != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta33).having("pregunta33 != ?", "--").having("pregunta33 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta33).having("pregunta33 != ?", "--").having("pregunta33 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody> 
    </table>
    <br>
  </div>                    
  <div id="Pregunta34">
    <label> <strong> 34. ¿Buscó ayuda en la EPS para resolver el problema? </strong> </label>
    <%= pie_chart Encuestum.group(:pregunta34).having("pregunta34 != ?", "--").having("pregunta34 != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta34).having("pregunta34 != ?", "--").having("pregunta34 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta34).having("pregunta34 != ?", "--").having("pregunta34 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody> 
    </table>
    <br>
  </div> 
  <div id="Pregunta35">
    <label> <strong> 35. ¿Cómo califica esa ayuda?  </strong> </label>
    <%= pie_chart Encuestum.group(:pregunta35).having("pregunta35 != ?", "--").having("pregunta35 != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta35).having("pregunta35 != ?", "--").having("pregunta35 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta35).having("pregunta35 != ?", "--").having("pregunta35 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>  
    </table>
    <br>
  </div>  
  <div id="Pregunta36">
    <label> <strong> 36. Usted que le mejoraría a su EPS.  </strong> </label>
    <%= bar_chart Encuestum.group(:pregunta36).having("pregunta36 != ?", "--").having("pregunta36 != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta36).having("pregunta36 != ?", "--").having("pregunta36 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta36).having("pregunta36 != ?", "--").having("pregunta36 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>   
    </table>
    <br>
  </div>  
  <div id="Pregunta37">
    <label> <strong> 37. En los últimos 6 meses, para acceder a los servicios de su EPS </strong> </label>
    <%= bar_chart Encuestum.group(:pregunta37).having("pregunta37 != ?", "--").having("pregunta37 != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta37).having("pregunta37 != ?", "--").having("pregunta37 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta37).having("pregunta37 != ?", "--").having("pregunta37 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>   
    </table>
    <br>
  </div>   
  <div id="Pregunta38">
    <label> <strong> 38. ¿La acción de tutela fue fallada a su favor? </strong> </label>
    <%= bar_chart Encuestum.group(:pregunta38).having("pregunta38 != ?", "--").having("pregunta38 != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta38).having("pregunta38 != ?", "--").having("pregunta38 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta38).having("pregunta38 != ?", "--").having("pregunta38 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>  
    </table>
    <br>
  </div>
  <div id="Pregunta39">
    <label> <strong> 39. Si la acción de tutela fue fallada a su favor, ¿La EPS cumplió con el fallo del juzgado? </strong> </label>
    <%= pie_chart Encuestum.group(:pregunta39).having("pregunta39 != ?", "--").having("pregunta39 != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta39).having("pregunta39 != ?", "--").having("pregunta39 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta39).having("pregunta39 != ?", "--").having("pregunta39 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>  
    </table>
    <br>
  </div>
  <div id="Pregunta40">
    <label> <strong> 40. En alguna ocasión, ¿Ha considerado interponer una queja o derecho de petición  ante su EPS? </strong> </label>
    <%= pie_chart Encuestum.group(:pregunta40).having("pregunta40 != ?", "--").having("pregunta40 != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta40).having("pregunta40 != ?", "--").having("pregunta40 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta40).having("pregunta40 != ?", "--").having("pregunta40 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>  
    </table>
    <br>
  </div>  
  <div id="Pregunta41">
    <label> <strong> 41. ¿Y usted ya Interpuso alguna queja o derecho de petición a su EPS? </strong> </label>
    <%= pie_chart Encuestum.group(:pregunta41).having("pregunta41 != ?", "--").having("pregunta41 != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta41).having("pregunta41 != ?", "--").having("pregunta41 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta41).having("pregunta41 != ?", "--").having("pregunta41 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>   
    </table>
    <br>
  </div>  
  <div id="Pregunta42">
    <label> <strong> 42. ¿Por qué no ha interpuesto la queja o petición? </strong> </label>
    <%= bar_chart Encuestum.group(:pregunta42).having("pregunta42 != ?", "--").having("pregunta42 != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta42).having("pregunta42 != ?", "--").having("pregunta42 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta42).having("pregunta42 != ?", "--").having("pregunta42 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>   
    </table>
    <br>
  </div>   
  <div id="Pregunta43">
    <label> <strong> 43. ¿Cuál fue el principal motivo de la última queja que presentó?  </strong> </label>
    <%= bar_chart Encuestum.group(:pregunta43).having("pregunta43 != ?", "--").having("pregunta43 != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta43).having("pregunta43 != ?", "--").having("pregunta43 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta43).having("pregunta43 != ?", "--").having("pregunta43 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>  
    </table>
    <br>
  </div>  
  <div id="Pregunta44">
    <label> <strong> 44. ¿Cuál fue el resultado de su queja o derecho de petición? </strong> </label>
    <%= bar_chart Encuestum.group(:pregunta44).having("pregunta44 != ?", "--").having("pregunta44 != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta44).having("pregunta44 != ?", "--").having("pregunta44 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta44).having("pregunta44 != ?", "--").having("pregunta44 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>  
    </table>
    <br>
  </div> 
  <div id="Pregunta45">
    <label> <strong> 45. ¿Ha pensado en cambiarse a otra EPS? </strong> </label>
    <%= bar_chart Encuestum.group(:pregunta45).having("pregunta45 != ?", "--").having("pregunta45 != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta45).having("pregunta45 != ?", "--").having("pregunta45 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta45).having("pregunta45 != ?", "--").having("pregunta45 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>  
    </table>
    <br>
  </div>   
  <div id="Pregunta46">
    <label> <strong> 46. ¿Cuál es el principal motivo para querer cambiarse de EPS? </strong> </label>
    <%= bar_chart Encuestum.group(:pregunta46).having("pregunta46 != ?", "--").having("pregunta46 != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta46).having("pregunta46 != ?", "--").having("pregunta46 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta46).having("pregunta46 != ?", "--").having("pregunta46 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody> 
    </table>
    <br>
  </div>
  <div id="Pregunta47">
    <label> <strong> 47. ¿Por qué razones no ha cambiado de EPS?  </strong> </label>
    <%= bar_chart Encuestum.group(:pregunta47).having("pregunta47 != ?", "--").having("pregunta47 != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta47).having("pregunta47 != ?", "--").having("pregunta47 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta47).having("pregunta47 != ?", "--").having("pregunta47 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>  
    </table>
    <br>
  </div>   
  <div id="Pregunta48">
    <label> <strong> 48. ¿Sabe usted que en caso que cambie su situación laboral (ejemplo quedar desempleado o conseguir empleo), usted tiene derecho a cambiarse de régimen dentro de su misma EPS? </strong> </label>
    <%= pie_chart Encuestum.group(:pregunta48).having("pregunta48 != ?", "--").having("pregunta48 != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta48).having("pregunta48 != ?", "--").having("pregunta48 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta48).having("pregunta48 != ?", "--").having("pregunta48 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>  
    </table>
    <br>
  </div>
  <div id="Pregunta49">
    <label> <strong> 49. ¿Sabe usted que cuando temporalmente deba hacer cambio de residencia a cualquier municipio del país diferente a donde habitualmente recibe atención en salud o este afiliado, tiene derecho a recibir los mismos servicios en el nuevo municipio? </strong> </label>
    <%= pie_chart Encuestum.group(:pregunta49).having("pregunta49 != ?", "--").having("pregunta49 != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta49).having("pregunta49 != ?", "--").having("pregunta49 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta49).having("pregunta49 != ?", "--").having("pregunta49 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>   
    </table>
    <br>
  </div>
  <div id="Pregunta50">
    <label> <strong> 50. ¿Ha solicitado la portabilidad a su EPS? </strong> </label>
    <%= pie_chart Encuestum.group(:pregunta50).having("pregunta50 != ?", "--").having("pregunta50 != ?", "").count(:id) %>
    <br>
    <table class="table">
      <thead>
        <tr>  
          <th scope="col">Item</th>
          <th scope="col">Cantidad</th>
          <th scope="col">%</th>
        </tr>
      </thead>
      <tbody>  
        <% total  = 0 %>
        <% Encuestum.group(:pregunta50).having("pregunta50 != ?", "--").having("pregunta50 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
          <% total = total + item %>
        <%end%>
        <% Encuestum.group(:pregunta50).having("pregunta50 != ?", "--").having("pregunta50 != ?", "").order('COUNT(id) DESC').count(:id).each do |value,item|%>
        <tr>
          <td scope="row"><%= value %></td>
          <td><%= item %></td>
          <td><%= (100*item/total.to_f).round(2) %></td>
        </tr>
        <%end%>
        <thead>
        <tr>
          <th scope="col"> <strong> Total </strong></td>
          <th scope="col"> <strong> <%= total %> </strong></td>
          <th scope="col"> <strong> 100% </strong></td>
        </tr>
        </thead>
      </tbody>   
    </table>
    <br>
  </div>


  